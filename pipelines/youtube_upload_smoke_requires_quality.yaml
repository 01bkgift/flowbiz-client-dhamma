# Requires: output/<run_id>/artifacts/quality_gate_summary.json
pipeline: youtube_upload_smoke_requires_quality
steps:
  - id: decision_support
    uses: decision.support
    output: decision_support_summary.json

  - id: approval_gate
    uses: approval.gate
    needs: [decision_support]
    output: approval_gate_summary.json

  - id: soft_live
    uses: soft_live.enforce
    needs: [approval_gate]
    output: soft_live_summary.json

  - id: notify_webhook
    uses: notify.webhook
    needs: [soft_live]
    output: notify_summary.json

  - id: youtube_upload
    uses: youtube.upload
    needs: [soft_live]
    config:
      dry_run: true
